services:
  slot-bot:
    # Use the image built by GitHub Actions
    image: ghcr.io/incari/slot_machine_bot:latest
    # build: . # Uncomment if you want to build locally instead
    container_name: slot-bot
    restart: unless-stopped
    environment:
      - BOT_TOKEN=${BOT_TOKEN}
      - ADMIN_ID=${ADMIN_ID}
    volumes:
      # SQLite database stored in ./data/slotbot.db
      - ./data:/app/data
      # Keep these for migration - can remove after migrating
      - ./users.json:/app/users.json:ro
      - ./jackpot.json:/app/jackpot.json:ro
